name: Pre-Commit Secret Detection

on:
  push:
    branches: [ main, dev, staging ]
  pull_request:
    branches: [ main ]

jobs:
  detect-secrets:
    uses: ./.github/workflows/reusable-secret-scan.yml
    with:
      scan-depth: '0'
      fail-on-error: true


